<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Banking Prompt Library Explorer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: The application is designed as a single-page dashboard with a fixed sidebar for primary navigation between an 'Overview' section and different 'Personas'. This structure was chosen because the source report is inherently role-based. It allows a user to immediately self-identify with a persona and directly access relevant tools (prompts), which is more efficient than reading a linear document. The 'Overview' section provides foundational context on the framework's principles and governance, setting the stage for the practical tools in the persona sections. Interactions like accordions for use cases and a 'copy' button for prompts are designed to make the library immediately functional and usable, directly translating the report's purpose into an active tool. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Framework Pillars (Scalable, Flexible, Governed) -> Goal: Inform -> Viz: Styled HTML cards -> Interaction: Hover effects -> Justification: More engaging and visually distinct than a bullet list. Method: Tailwind CSS.
        - Report Info: Contribution Process -> Goal: Organize -> Viz: Numbered step diagram -> Interaction: None -> Justification: Clearly visualizes the sequential workflow in a more digestible format than plain text. Method: HTML/Tailwind.
        - Report Info: Persona Distribution -> Goal: Compare -> Viz: Donut Chart -> Interaction: Hover for tooltips -> Justification: Provides a quick quantitative overview of the library's scope across different roles. Library: Chart.js.
        - Report Info: Use Cases & Prompts -> Goal: Organize/Inform -> Viz: Accordion -> Interaction: Click to expand/collapse -> Justification: Hides complexity and prevents information overload, allowing users to focus on a single prompt. Method: Vanilla JS.
        - Report Info: Prompt Templates -> Goal: Enable -> Viz: Styled code block -> Interaction: "Copy to Clipboard" button -> Justification: The key user action. Makes the prompts immediately usable. Method: Vanilla JS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F7F4;
            color: #383838;
        }
        .code-block {
            background-color: #FDFCFB;
            border: 1px solid #EAE8E3;
            border-radius: 8px;
            padding: 1rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.875rem;
            line-height: 1.5;
            color: #505050;
        }
        .code-block strong {
            color: #2c5282;
        }
        .code-block .token-key {
            color: #9B59B6;
        }
        .code-block .token-value {
            color: #2ECC71;
        }
        .nav-item {
            transition: all 0.2s ease-in-out;
        }
        .nav-item.active {
            background-color: #EAE8E3;
            color: #D57A66;
            border-right: 3px solid #D57A66;
        }
        .nav-item:not(.active):hover {
            background-color: #F3F1ED;
        }
        .accordion-header {
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .accordion-header:hover {
            background-color: #F3F1ED;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .chart-container {
            position: relative; 
            width: 100%; 
            max-width: 400px; 
            margin-left: auto; 
            margin-right: auto; 
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .technique-card {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
    </style>
</head>
<body class="antialiased">

    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="w-full md:w-72 bg-[#F1EEEA] border-r border-gray-200 flex-shrink-0">
            <div class="p-5 border-b border-gray-200">
                <h1 class="text-xl font-bold text-[#D57A66]">Prompt Library</h1>
                <p class="text-sm text-gray-500">Explorer</p>
            </div>
            <nav id="main-nav" class="flex flex-row md:flex-col overflow-x-auto">
                <a href="#overview" data-target="overview" class="nav-item active text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">üìä</span>
                    <span>Overview</span>
                </a>
                <a href="#financial-analyst" data-target="financial-analyst" class="nav-item text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">üìà</span>
                    <span>Financial Analyst</span>
                </a>
                <a href="#customer-service" data-target="customer-service" class="nav-item text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">üë•</span>
                    <span>Customer Service</span>
                </a>
                 <a href="#wealth-manager" data-target="wealth-manager" class="nav-item text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">üíº</span>
                    <span>Wealth Manager</span>
                </a>
                <a href="#developer" data-target="developer" class="nav-item text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">üíª</span>
                    <span>Developer</span>
                </a>
                <a href="#marketing" data-target="marketing" class="nav-item text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">üì£</span>
                    <span>Marketing</span>
                </a>
                 <a href="#risk-compliance" data-target="risk-compliance" class="nav-item text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">üõ°Ô∏è</span>
                    <span>Risk & Compliance</span>
                </a>
                 <a href="#it-security" data-target="it-security" class="nav-item text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">üîí</span>
                    <span>IT Security Analyst</span>
                </a>
                 <a href="#ml-orchestrator" data-target="ml-orchestrator" class="nav-item text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">ü§ñ</span>
                    <span>ML Orchestrator</span>
                </a>
                <a href="#agentic-workflows" data-target="agentic-workflows" class="nav-item text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">‚öôÔ∏è</span>
                    <span>Agentic Workflows</span>
                </a>
                <a href="#advanced-engineering" data-target="advanced-engineering" class="nav-item text-left p-4 text-sm font-medium text-gray-700 flex items-center space-x-3">
                    <span class="w-5 h-5">üß†</span>
                    <span>Advanced Engineering</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 sm:p-10 bg-[#F8F7F4]">
            
            <!-- Overview Section -->
            <div id="overview" class="content-section">
                <header class="mb-10">
                    <h2 class="text-3xl font-bold text-gray-800">Global Banking Prompt Library Framework</h2>
                    <p class="mt-2 text-lg text-gray-600">A structured and governed approach to interacting with large language models.</p>
                </header>
                
                <div class="bg-white/80 p-6 rounded-lg shadow-sm mb-10">
                     <h3 class="text-xl font-semibold text-gray-700 mb-2">Framework Introduction</h3>
                     <p class="text-gray-600">This section provides a high-level introduction to the Global Banking Prompt Library. Explore the core principles that guide its design, understand the structured governance and contribution process, and see a visual breakdown of the library's foundational components. This will give you the context needed to effectively use the prompts in the explorer.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                    <div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                        <h4 class="font-bold text-lg text-blue-800">Scalable</h4>
                        <p class="text-sm text-gray-600 mt-1">Designed to grow with the bank's needs and new AI use cases.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                        <h4 class="font-bold text-lg text-green-800">Flexible</h4>
                        <p class="text-sm text-gray-600 mt-1">Adapts to various roles, departments, and LLMs.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                        <h4 class="font-bold text-lg text-purple-800">Governed</h4>
                        <p class="text-sm text-gray-600 mt-1">Ensures compliance, quality, and security through clear processes.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                        <h4 class="font-bold text-lg text-orange-800">Usable</h4>
                        <p class="text-sm text-gray-600 mt-1">Empowers all employees with easy-to-find, vetted prompts.</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-5 gap-8">
                    <div class="lg:col-span-3 bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-xl font-semibold text-gray-700 mb-4">Governance & Contribution Process</h3>
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-[#6B7A8F] text-white flex items-center justify-center font-bold">1</div>
                                <div class="ml-4">
                                    <h4 class="font-semibold">Propose</h4>
                                    <p class="text-gray-600 text-sm">Submit a new prompt or modification via a pull request in the internal version control system.</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-[#6B7A8F] text-white flex items-center justify-center font-bold">2</div>
                                <div class="ml-4">
                                    <h4 class="font-semibold">Review</h4>
                                    <p class="text-gray-600 text-sm">Prompt engineering specialists and domain experts review the proposal for effectiveness, clarity, and efficiency.</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-[#6B7A8F] text-white flex items-center justify-center font-bold">3</div>
                                <div class="ml-4">
                                    <h4 class="font-semibold">Approve</h4>
                                    <p class="text-gray-600 text-sm">Stewards from the AI Center of Excellence and Compliance & Risk Management provide final approval.</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-[#6B7A8F] text-white flex items-center justify-center font-bold">4</div>
                                <div class="ml-4">
                                    <h4 class="font-semibold">Merge</h4>
                                    <p class="text-gray-600 text-sm">The approved prompt is merged into the main library, making it available for use across the institution.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-xl font-semibold text-gray-700 mb-4 text-center">Use Cases by Persona</h3>
                        <div class="chart-container">
                            <canvas id="personaChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Persona Sections -->
            <div id="persona-sections-container">
            </div>

        </main>
    </div>

    <script>
        const promptData = {
            "financial-analyst": {
                name: "Financial Analyst",
                description: "For the Financial Analyst, precision in inquiry is paramount. These prompts are designed to assist in a range of analytical tasks, from summarizing earnings calls to identifying market trends, ensuring meticulous and insightful outputs.",
                use_cases: [{
                    name: "Earnings Call Summary and Analysis",
                    prompts: [{
                        id: "FA-001-EarningsSummary",
                        description: "Summarizes a financial transcript and extracts key insights.",
                        template: `**Persona:** You are a seasoned financial analyst at a top-tier investment bank. Your expertise lies in distilling complex financial information into actionable insights for our clients. You are meticulous, insightful, and focused on material information.\n\n**Task:** I will provide you with the transcript of a company's quarterly earnings call. Your task is to:\n\n1.  **Executive Summary:** Provide a concise, one-paragraph executive summary of the key highlights and lowlights of the call.\n2.  **Key Financial Metrics:** Extract and present in a table the following key financial metrics: Revenue, Net Income, Earnings Per Share (EPS), and Operating Margin. Compare these to the same quarter last year and to analyst expectations if mentioned.\n3.  **Management Tone and Sentiment:** Analyze the tone of the management team during the Q&A session. Was it confident, cautious, or defensive? Provide specific examples.\n4.  **Forward-Looking Guidance:** Summarize the company's financial guidance for the upcoming quarter and full year.\n5.  **Key Risks and Opportunities:** Based on the call, identify the top 3 risks and top 3 opportunities for the company.\n6.  **Actionable Insight:** What is the single most important takeaway from this call for an investor?\n\n**Input Data:**\n\`\`\`\n{transcript}\n\`\`\``
                    }]
                }, {
                    name: "M&A Target Screening",
                    prompts: [{
                        id: "FA-002-MAScreening",
                        description: "Analyzes a list of companies against predefined M&A criteria.",
                        template: `**Persona:** You are a mergers and acquisitions (M&A) analyst. Your goal is to identify potential acquisition targets that fit our strategic criteria. You are detail-oriented and focused on quantitative and qualitative fit.\n\n**Task:** I will provide you with a list of companies in the fintech sector and our strategic acquisition criteria. For each company, evaluate it against the criteria and provide a "Fit Score" from 1 (poor fit) to 5 (excellent fit). Justify your score in a brief paragraph.\n\n**Strategic Criteria:**\n- Revenue Growth > 20% YoY\n- Gross Margin > 60%\n- Market: North America or Europe\n- Technology: AI-driven credit scoring or payment processing\n\n**Input Data:**\n\`\`\`json\n[\n  {\n    "company_name": "FinTech Innovations Inc.",\n    "revenue_growth_yoy": "25%",\n    "gross_margin": "65%",\n    "market": "North America",\n    "technology": "AI-driven credit scoring"\n  },\n  {\n    "company_name": "EuroPay Solutions",\n    "revenue_growth_yoy": "18%",\n    "gross_margin": "70%",\n    "market": "Europe",\n    "technology": "Payment processing"\n  }\n]\n\`\`\``
                    }]
                }]
            },
            "customer-service": {
                name: "Customer Service Agent",
                description: "To enhance client interactions, these prompts help agents provide faster, more accurate, and more empathetic responses. They are crafted to resolve customer issues efficiently while making them feel heard and valued.",
                use_cases: [{
                    name: "Responding to a Disputed Transaction",
                    prompts: [{
                        id: "CSA-001-DisputeResponse",
                        description: "Drafts a clear and empathetic email to a customer regarding a disputed transaction.",
                        template: `**Persona:** You are a helpful and empathetic customer service professional at our bank. Your goal is to resolve customer issues efficiently while making them feel heard and valued.\n\n**Task:** A customer has disputed a transaction. Draft an email to the customer that:\n\n1.  Acknowledges their concern and the specific transaction in question.\n2.  Clearly explains the next steps in the dispute investigation process.\n3.  Provides an estimated timeline for resolution.\n4.  Reassures them that we are taking their concern seriously.\n5.  Maintains a professional and empathetic tone throughout.\n\n**Input Data:**\n* Customer Name: {customer_name}\n* Transaction Date: {transaction_date}\n* Merchant: {merchant_name}\n* Amount: {transaction_amount}`
                    }]
                }]
            },
            "wealth-manager": {
                name: "Wealth Manager",
                description: "Prompts designed to help wealth managers with client communication, portfolio analysis, and generating personalized market insights, enhancing the client experience.",
                use_cases: [{
                    name: "Weekly Client Market Commentary",
                    prompts: [{
                        id: "WM-001-MarketCommentary",
                        description: "Generates a personalized weekly market summary for a client.",
                        template: `**Persona:** You are a trusted wealth manager communicating with a long-term client. Your tone should be knowledgeable, reassuring, and tailored to the client's specific interests and portfolio holdings.\n\n**Task:** Based on the provided market data and client portfolio summary, draft a concise weekly market commentary email. The email should:\n\n1.  Start with a personalized greeting.\n2.  Briefly summarize the week's key market movements (e.g., S&P 500, NASDAQ).\n3.  Provide specific commentary on one or two key holdings in the client's portfolio.\n4.  Offer a forward-looking statement of reassurance and long-term perspective.\n\n**Input Data:**\n* Client Name: {client_name}\n* Key Holdings: {list_of_key_holdings}\n* Market Data Summary: {summary_of_weekly_market_data}`
                    }]
                }]
            },
            "developer": {
                name: "Developer & Data Scientist",
                description: "To accelerate innovation, the library provides technical prompts to assist developers and data scientists. These prompts aid in tasks like code generation, debugging, and complex data exploration.",
                use_cases: [{
                    name: "Generating a Python Script for Data Anonymization",
                    prompts: [{
                        id: "DEV-001-DataAnonymization",
                        description: "Generates a Python script to anonymize sensitive customer data.",
                        template: `**Persona:** You are a senior Python developer with expertise in data security and privacy.\n\n**Task:** Write a Python script that reads a CSV file named \`customer_data.csv\` and anonymizes the following columns: 'FirstName', 'LastName', 'Address', and 'Email'. Use the 'Faker' library to generate realistic but fake data for these columns. The script should write the anonymized data to a new CSV file named \`anonymized_customer_data.csv\`. Include comments in the code to explain each step.`
                    }]
                }, {
                    name: "Legacy Code Refactoring (COBOL to Java)",
                    prompts: [{
                        id: "DEV-002-CobolRefactor",
                        description: "Translates a COBOL code snippet to modern, object-oriented Java.",
                        template: `**Persona:** You are an expert software engineer specializing in mainframe modernization. You have deep knowledge of both COBOL and modern Java frameworks. Your goal is to produce clean, readable, and maintainable Java code that is functionally equivalent to the original COBOL.\n\n**Task:** I will provide you with a COBOL code snippet. Your task is to:\n\n1.  Translate the COBOL code into a functionally equivalent Java class.\n2.  Use modern Java features (e.g., streams, optionals) where appropriate.\n3.  Add comments to the Java code explaining how it maps back to the original COBOL logic.\n4.  Identify any potential modernization improvements (e.g., replacing a batch process with a real-time API call).\n\n**Input Data:**\n\`\`\`cobol\n{cobol_code_snippet}\n\`\`\``
                    }]
                }]
            },
            "marketing": {
                name: "Marketing Professional",
                description: "For crafting compliant and creative campaigns, these prompts help marketing teams generate innovative copy and concepts while adhering to strict financial advertising regulations and brand guidelines.",
                use_cases: [{
                    name: "Brainstorming a New Product Launch Campaign",
                    prompts: [{
                        id: "MKT-001-CampaignBrainstorm",
                        description: "Generates creative concepts for a new product launch.",
                        template: `**Persona:** You are a creative and strategic marketing manager at a bank.\n\n**Task:** We are launching a new high-yield savings account targeted at millennials. Brainstorm three distinct marketing campaign concepts. For each concept, provide:\n\n1.  A catchy slogan.\n2.  The core messaging.\n3.  Key channels to reach the target audience (e.g., social media platforms, influencer collaborations, etc.).\n4.  A brief description of the visual identity.\n\nEnsure all concepts are compliant with financial advertising regulations by avoiding promises of guaranteed returns and using clear, non-misleading language.`
                    }]
                }]
            },
            "risk-compliance": {
                name: "Risk & Compliance Officer",
                description: "Prompts for analyzing regulations, generating compliance reports, and identifying potential risks in new products or processes.",
                use_cases: [{
                    name: "Regulatory Change Impact Analysis",
                    prompts: [{
                        id: "RC-001-RegImpact",
                        description: "Summarizes a new regulation and identifies its potential impact on bank policies.",
                        template: `**Persona:** You are a meticulous compliance officer. Your primary responsibility is to interpret new financial regulations and assess their impact on the bank's operations and policies. Your analysis must be precise, objective, and actionable.\n\n**Task:** I will provide you with the text of a new financial regulation. Your task is to:\n\n1.  **Executive Summary:** Provide a one-paragraph summary of the regulation's purpose and key requirements.\n2.  **Impacted Policies:** Identify which of the bank's internal policies (e.g., 'Data Governance Policy', 'Anti-Money Laundering Policy', 'Credit Risk Policy') are most likely to be affected.\n3.  **Required Actions:** For each impacted policy, recommend specific actions that must be taken to ensure compliance (e.g., 'Update section 4.2 of the AML Policy to include new reporting thresholds').\n4.  **Presents as a structured JSON object.**\n\n**Input Data:**\n\`\`\`\n{regulatory_text}\n\`\`\``
                    }]
                }]
            },
            "it-security": {
                name: "IT Security Analyst",
                description: "Prompts for threat intelligence analysis, incident report generation, and drafting security policies to protect the bank's digital assets.",
                use_cases: [{
                    name: "Threat Intelligence Report Summarization",
                    prompts: [{
                        id: "SEC-001-ThreatIntel",
                        description: "Summarizes a technical threat intelligence report and extracts actionable indicators.",
                        template: `**Persona:** You are a senior cybersecurity analyst at a major financial institution. You are an expert at parsing dense, technical threat intelligence reports to extract actionable insights for the Security Operations Center (SOC).\n\n**Task:** I will provide you with a threat intelligence report concerning a new malware variant targeting the financial sector. Your task is to:\n\n1.  **Threat Summary:** Provide a concise summary of the threat actor, their motives, and their primary Tactics, Techniques, and Procedures (TTPs).\n2.  **Actionable Indicators:** Extract all Indicators of Compromise (IoCs) and present them in a structured format. This must include file hashes (MD5, SHA256), malicious IP addresses, and C2 domains.\n3.  **Recommended Mitigations:** Suggest 3-5 immediate mitigation steps for the SOC team to implement (e.g., 'Block all outbound traffic to the listed C2 domains', 'Create a new detection rule for the provided file hashes').\n\n**Input Data:**\n\`\`\`\n{threat_intelligence_report_text}\n\`\`\``
                    }]
                }]
            },
            "ml-orchestrator": {
                name: "ML Orchestrator",
                description: "For orchestrating complex, distributed AI/ML systems. These prompts are machine-readable protocols that define agent interaction, network configuration, and federated learning tasks.",
                use_cases: [{
                    name: "Federated Spam Detection Orchestration",
                    prompts: [{
                        id: "MLO-001-SpamOrchestrator",
                        description: "Defines the operational parameters for a master orchestrator agent in a distributed, federated system for model training.",
                        template: `# METADATA
protocol_id: "FL-SPAM-ORCH-001"
protocol_name: "FederatedSpamDetectionOrchestrator"
version: "1.0.1"
description: "Orchestrates a federated learning network to train a global spam detection model across distributed email server agents without sharing raw data."

# PERSONA
persona:
  role: "Federated Learning Orchestrator (FLO)"
  traits: [secure, methodical, efficient, fault-tolerant, automated]
  core_mandate: "My purpose is to manage the end-to-end lifecycle of a federated learning process, ensuring model convergence while preserving data privacy across all participating nodes."

# TASK
task:
  orchestration_flows:
    - flow_name: "Federated_Training_Round"
      steps: ["SELECT_ACTIVE_NODES", "DISTRIBUTE_GLOBAL_MODEL", "INITIATE_LOCAL_TRAINING", "COLLECT_MODEL_UPDATES", "AGGREGATE_UPDATES", "UPDATE_GLOBAL_MODEL", "LOG_METRICS"]
    - flow_name: "System_Health_Check"
      steps: ["QUERY_SERVICE_REGISTRY", "PING_AGENT_HEALTH_ENDPOINT", "REPORT_STATUS"]

# CONTEXT
context:
  federated_learning_protocol:
    strategy: "FederatedAveraging (FedAvg)"
    global_model_id: "spam-classifier-gm-v3.2"
    hyperparameters: { global_rounds: 50, nodes_per_round: 10, local_epochs: 5, learning_rate: 0.01 }
    privacy_protocol: { technique: "DifferentialPrivacy", epsilon: 1.0, delta: 1e-5 }`
                    }]
                }, {
                    name: "Federated Prompt Refinement",
                    prompts: [{
                        id: "MLO-002-PromptRefinement",
                        description: "Orchestrates the federated lifecycle of a governed prompt template, ensuring quality, compliance, and continuous improvement.",
                        template: `# METADATA
protocol_id: "GBL-PROMPT-ORCH-001"
protocol_name: "GlobalBankingPromptOrchestrator"
version: "1.0.0"
description: "Orchestrates the federated lifecycle of a governed prompt template for a specific business use case, ensuring quality, compliance, and continuous improvement."

# USER_DEFINED_TASK
user_defined_task:
  task_name: "Financial Performance Analysis"
  model_goal: "Generate a concise summary and structured table of a company's financial performance based on quarterly earnings data."
  primary_metric: "factuality"

# PERSONA
persona:
  role: "Global Prompt Library Orchestrator (GPLO)"
  traits: [governed, auditable, collaborative, version-controlled, secure]
  core_mandate: "My purpose is to manage the end-to-end lifecycle of governed prompt templates, ensuring they meet enterprise standards for quality and compliance while enabling distributed, expert-led innovation."

# TASK
task:
  orchestration_flows:
    - flow_name: "Federated_Prompt_Refinement_Round"
      steps: ["SELECT_EVALUATOR_NODES", "DISTRIBUTE_CANDIDATE_PROMPT", "INITIATE_LOCAL_EVALUATION", "COLLECT_PERFORMANCE_METRICS_AND_SUGGESTIONS", "AGGREGATE_FEEDBACK", "UPDATE_GLOBAL_PROMPT", "LOG_METRICS_AND_LINTING_RESULTS"]
    - flow_name: "Compliance_Health_Check"
      steps: ["QUERY_PROMPT_REGISTRY", "VALIDATE_AGAINST_COMPLIANCE_API", "REPORT_STATUS"]

# CONTEXT
context:
  federated_prompt_protocol:
    strategy: "FederatedAveraging (for Prompt Refinement)"
    prompt_hyperparameters:
      persona_declaration: "You are a seasoned, meticulous, and insightful financial analyst. Your analysis must be objective and strictly based on the provided data."
      task_instruction: "Analyze the provided quarterly earnings report. First, provide a 3-sentence executive summary of the overall performance. Then, populate the following table with key financial metrics."
      output_format: |
        | Metric                | Current Quarter | Previous Quarter | Change (%) |
        |-----------------------|-----------------|------------------|------------|
        | Total Revenue         | $XX.X B         | $XX.X B          | XX.X%      |
        | Net Income            | $X.X B          | $X.X B           | XX.X%      |
        | Earnings Per Share    | $X.XX           | $X.XX            | XX.X%      |
      constraints: "CRITICAL: Do not include any information not present in the source text. Do not offer opinions, predictions, or investment advice."
    privacy_protocol: { technique: "PII_Redaction", enforcement: "Strict" }`
                    }]
                }]
            },
            "agentic-workflows": {
                name: "Agentic Workflows",
                description: "This section moves beyond single prompts to define multi-step, multi-agent workflows. These YAML files are conceptual blueprints for an orchestration engine (like LangGraph or AutoGen) to execute complex, automated processes.",
                use_cases: []
            },
            "advanced-engineering": {
                name: "Advanced Prompt Engineering",
                description: "A detailed walkthrough of complex prompting techniques to build robust, reliable, and sophisticated agentic workflows. This section goes beyond simple templates to explain the 'why' behind advanced prompt design.",
                use_cases: [] // Populated by JS
            }
        };

        const agenticWorkflows = [
            {
                name: "Automated Market News Analysis Workflow",
                description: "A multi-agent system that scrapes financial news, analyzes it, and generates a daily briefing.",
                template: `# WORKFLOW METADATA
workflow_id: "AGENTIC-MKT-NEWS-001"
workflow_name: "DailyMarketNewsAnalyzer"
version: "1.1.0"
description: "An automated workflow that scrapes, summarizes, and analyzes financial news to produce a daily market briefing."
trigger: "Scheduled (Daily at 08:00 UTC)"

# AGENT DEFINITIONS
agents:
  - agent_id: "news_scraper"
    role: "Financial News Scraper"
    prompt_id: "TOOL-USE-001-ScrapeAPI" # A prompt that instructs the agent how to use a web scraping tool
    tools: ["web_scraper_api"]
    output: "List of article URLs"

  - agent_id: "article_summarizer"
    role: "Content Summarizer"
    prompt_id: "FA-001-EarningsSummary" # Reuses a prompt from the Financial Analyst persona
    input: "article_content"
    output: "Structured summary with key points"

  - agent_id: "sentiment_analyzer"
    role: "Sentiment Analyst"
    prompt_id: "NLP-005-SentimentScoring" # A prompt designed for sentiment classification
    input: "article_summary"
    output: "Sentiment score (e.g., -1.0 to 1.0)"

  - agent_id: "report_generator"
    role: "Briefing Compiler"
    prompt_id: "REPORT-001-DailyBriefing" # A prompt that formats multiple inputs into a coherent report
    input: ["list_of_summaries", "list_of_sentiments"]
    output: "Formatted HTML report"

  - agent_id: "notification_agent"
    role: "Notifier"
    prompt_id: "TOOL-USE-002-SendEmail" # A prompt that instructs how to use a notification tool
    tools: ["email_api"]
    input: "html_report"

# WORKFLOW GRAPH
graph:
  - from: "start"
    to: "news_scraper"
  - from: "news_scraper"
    to: "article_summarizer" # This implies a map/reduce pattern over the list of URLs
  - from: "article_summarizer"
    to: "sentiment_analyzer"
  - from: "sentiment_analyzer"
    to: "report_generator" # This implies an aggregation step
  - from: "report_generator"
    to: "notification_agent"
  - from: "notification_agent"
    to: "end"`
            },
            {
                name: "Compliance Policy Verification Workflow",
                description: "A multi-agent system that cross-references internal policies with external regulations to find gaps.",
                template: `# WORKFLOW METADATA
workflow_id: "AGENTIC-COMPLIANCE-CHECK-001"
workflow_name: "ComplianceGapAnalysis"
version: "1.0.0"
description: "An automated workflow that analyzes new internal policies against a corpus of external regulations to identify potential compliance gaps."
trigger: "Event-driven (On new document in policy_repository)"

# AGENT DEFINITIONS
agents:
  - agent_id: "policy_ingestor"
    role: "Document Ingestor"
    prompt_id: "TOOL-USE-003-ReadDocument"
    tools: ["document_repository_api"]
    input: "new_document_event"
    output: "policy_text"

  - agent_id: "regulation_retriever"
    role: "Regulatory Research Assistant"
    prompt_id: "TOOL-USE-004-VectorSearch" # Prompt to formulate a query and search a vector DB
    tools: ["regulatory_vector_db"]
    input: "policy_text"
    output: "List of relevant regulatory excerpts"

  - agent_id: "gap_analyzer"
    role: "Compliance Gap Analyst"
    prompt_id: "RC-002-GapAnalysis" # A sophisticated ReAct prompt for comparison
    input: ["policy_text", "relevant_regulatory_excerpts"]
    output: "Structured gap analysis report (JSON)"

  - agent_id: "task_creator"
    role: "Workflow Coordinator"
    prompt_id: "TOOL-USE-005-CreateTask"
    tools: ["task_management_api"]
    input: "gap_analysis_report"
    output: "Task ID"

# WORKFLOW GRAPH
graph:
  - from: "start"
    to: "policy_ingestor"
  - from: "policy_ingestor"
    to: "regulation_retriever"
  - from: "regulation_retriever"
    to: "gap_analyzer"
  - from: "gap_analyzer"
    to: "task_creator"
  - from: "task_creator"
    to: "end"`
            }
        ];

        const advancedTechniques = [
            {
                name: "Chain-of-Thought (CoT) Prompting",
                description: "Chain-of-Thought prompting guides the model to break down a complex problem into a series of intermediate reasoning steps before giving a final answer. This mimics a human thought process and significantly improves performance on tasks requiring arithmetic, commonsense, or symbolic reasoning.",
                template: `Q: A trading desk has 5 traders. Each trader makes 15 trades per hour. The desk operates for 8 hours a day. How many total trades are made in one day?

A: Let's think step by step.
1. First, calculate the number of trades per trader per day.
   - Each trader makes 15 trades/hour.
   - The desk operates for 8 hours/day.
   - So, one trader makes 15 * 8 = 120 trades per day.
2. Next, calculate the total trades for all traders.
   - There are 5 traders.
   - Each trader makes 120 trades per day.
   - So, the total number of trades is 120 * 5 = 600.

The final answer is 600.`
            },
            {
                name: "ReAct (Reason + Act)",
                description: "ReAct extends prompting to create true agents. The model reasons about a task, decides on an action (like using a tool), executes it, observes the result, and then reasons again to decide the next action. This allows models to interact with external systems (like APIs or databases) to solve problems they couldn't solve with their internal knowledge alone.",
                template: `Question: What was the stock price of the parent company of Google on its first day of trading?

Thought 1: I need to find the parent company of Google and its IPO date. I will use a search tool.
Action 1: search("parent company of Google")
Observation 1: The parent company of Google is Alphabet Inc. (GOOGL).

Thought 2: Now I need to find the IPO date and price for Google (before it became Alphabet).
Action 2: search("Google IPO date and price")
Observation 2: Google's initial public offering (IPO) took place on August 19, 2004. The initial price was $85 per share.

Thought 3: I have found the answer. The price was $85 on August 19, 2004.
Action 3: finish("The stock price of Google on its IPO date, August 19, 2004, was $85 per share.")`
            },
            {
                name: "Self-Correction / Reflection",
                description: "This technique involves instructing the model to critique and refine its own work. After generating an initial response, the model is prompted to act as a critic, identify flaws or areas for improvement, and then generate a revised, higher-quality version.",
                template: `[Initial Prompt]
"Draft a short marketing email for a new credit card with a low introductory APR."

[Initial Response from LLM]
"Subject: New Card! Get our new credit card now. It has a low APR. Click here to apply."

[Self-Correction Prompt]
"You are a quality assurance expert. Review the email draft above. Is it persuasive? Is it professional? Does it contain a clear call to action? Identify 3 weaknesses and suggest improvements. Then, rewrite the email incorporating your suggestions."

[Final, Corrected Response from LLM]
Weaknesses:
1. The subject line is generic and unprofessional.
2. "Low APR" is vague; it should be specific.
3. The call to action is weak.

Rewritten Email:
Subject: A Smarter Way to Borrow: Introducing the new Platinum Card

Dear [Customer Name],

Take control of your finances with the new Platinum Card from our bank. For a limited time, enjoy an introductory APR of just 1.99% for the first 12 months.

Whether you're planning a large purchase or consolidating debt, our new card offers the flexibility you need.

Learn more and apply in minutes.
[Link to Application]`
            },
            {
                name: "Tree of Thoughts (ToT)",
                description: "Tree of Thoughts generalizes CoT by exploring multiple reasoning paths at each step, creating a tree structure. The model can evaluate the intermediate 'thoughts' and decide which path to explore further or backtrack, making it much more powerful for complex planning or search problems where the initial steps are not obvious.",
                template: `/* Conceptual Workflow for Tree of Thoughts */

Problem: "Devise a 3-step strategy to reduce credit card fraud for an online merchant."

1.  **Generate Initial Thoughts (Level 1):**
    - Thought 1.1: "Focus on transaction monitoring."
    - Thought 1.2: "Focus on user authentication."
    - Thought 1.3: "Focus on post-transaction analysis."

2.  **Evaluate Thoughts (Level 1):**
    - Evaluation 1.1: "Good, proactive. High potential." -> EXPLORE
    - Evaluation 1.2: "Important, but can cause friction." -> EXPLORE
    - Evaluation 1.3: "Reactive, not preventative." -> PRUNE

3.  **Expand Promising Thoughts (Level 2):**
    - From 1.1:
        - Thought 2.1: "Use real-time velocity checks."
        - Thought 2.2: "Implement AI-based anomaly detection."
    - From 1.2:
        - Thought 2.3: "Mandate Multi-Factor Authentication (MFA)."
        - Thought 2.4: "Use 3D Secure 2.0 protocol."

4.  **Continue process... evaluate, prune, and expand until a complete, coherent 3-step plan is formed.**
    - e.g., Final Path: (1.1 -> 2.2 -> 3.x) -> "1. Implement AI anomaly detection. 2. Mandate MFA for suspicious transactions. 3. Use post-transaction analysis to refine AI models."`
            },
            {
                name: "Expert Persona Prompting (Generated)",
                description: "As noted in the GBL analysis, simple persona declarations can be ineffective. A more robust method is to have the model generate a detailed expert persona first, then use that generated persona to solve the actual task. This creates a much richer context for the model.",
                template: `/* Two-Step Prompt Chain */

--- Step 1: Persona Generation Prompt ---
"Based on the following task, generate a detailed persona of the expert who would be best suited to complete it. Describe their skills, experience, and mindset.

Task: 'Create a comprehensive risk assessment report for a new fintech lending product targeting subprime borrowers.'"

--- Step 2: Task Execution Prompt ---
"**Persona:** {Insert LLM-generated persona from Step 1 here. e.g., 'You are a Chief Risk Officer with 20 years of experience in credit risk, specializing in regulatory compliance (TILA, ECOA) and quantitative modeling of default risk for non-traditional credit products...'}

**Task:** Now, using this persona, create the comprehensive risk assessment report for the new fintech lending product."`
            }
        ];

        function initializeApp() {
            const personaContainer = document.getElementById('persona-sections-container');
            const navLinks = document.querySelectorAll('#main-nav a');

            function buildPersonaSections() {
                let html = '';
                for (const key in promptData) {
                    const persona = promptData[key];
                    let contentHtml = '';
                    
                    if (key === 'advanced-engineering') {
                        contentHtml = advancedTechniques.map(tech => `
                            <div class="technique-card">
                                <h3 class="text-xl font-semibold text-gray-800 mb-2">${tech.name}</h3>
                                <p class="text-gray-600 mb-4">${tech.description}</p>
                                <div class="code-block">${tech.template.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</div>
                            </div>
                        `).join('');
                    } else if (key === 'agentic-workflows') {
                        contentHtml = agenticWorkflows.map(wf => `
                            <div class="technique-card">
                                <h3 class="text-xl font-semibold text-gray-800 mb-2">${wf.name}</h3>
                                <p class="text-gray-600 mb-4">${wf.description}</p>
                                <div class="code-block">${wf.template.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</div>
                            </div>
                        `).join('');
                    } else {
                         contentHtml = persona.use_cases.map((useCase, i) => `
                            <div class="bg-white rounded-lg shadow-sm border border-gray-200/50">
                                <div class="accordion-header flex justify-between items-center p-4">
                                    <h3 class="font-semibold text-gray-800">${useCase.name}</h3>
                                    <span class="transform transition-transform duration-300">‚ñº</span>
                                </div>
                                <div class="accordion-content">
                                    <div class="p-4 border-t border-gray-200/80">
                                        ${useCase.prompts.map(prompt => `
                                            <div class="mb-4">
                                                <div class="flex justify-between items-center mb-2">
                                                    <p class="text-sm font-semibold text-gray-500">${prompt.id}</p>
                                                    <button class="copy-btn text-sm bg-[#6B7A8F] text-white px-3 py-1 rounded-md hover:bg-[#59687D] transition-colors" data-prompt-id="${prompt.id}">Copy</button>
                                                </div>
                                                <p class="text-sm text-gray-600 mb-3">${prompt.description}</p>
                                                <div class="code-block" id="prompt-text-${prompt.id}">${prompt.template.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</div>
                                            </div>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        `).join('');
                    }

                    html += `
                        <div id="${key}" class="content-section hidden">
                             <header class="mb-10">
                                <h2 class="text-3xl font-bold text-gray-800">${persona.name}</h2>
                                <p class="mt-2 text-lg text-gray-600">${persona.description}</p>
                            </header>
                            <div class="space-y-4">
                                ${contentHtml}
                            </div>
                        </div>
                    `;
                }
                personaContainer.innerHTML = html;
            }

            function setupNavigation() {
                navLinks.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetId = link.getAttribute('data-target');

                        document.querySelectorAll('.content-section').forEach(section => {
                            section.classList.add('hidden');
                        });
                        document.getElementById(targetId).classList.remove('hidden');

                        navLinks.forEach(nav => nav.classList.remove('active'));
                        link.classList.add('active');
                        
                        window.scrollTo(0,0);
                    });
                });
            }

            function setupAccordions() {
                document.querySelectorAll('.accordion-header').forEach(header => {
                    header.addEventListener('click', () => {
                        const content = header.nextElementSibling;
                        const icon = header.querySelector('span');
                        
                        if (content.style.maxHeight) {
                            content.style.maxHeight = null;
                            icon.style.transform = 'rotate(0deg)';
                        } else {
                            content.style.maxHeight = content.scrollHeight + 'px';
                            icon.style.transform = 'rotate(-180deg)';
                        }
                    });
                });
            }

            function setupCopyButtons() {
                document.querySelectorAll('.copy-btn').forEach(button => {
                    button.addEventListener('click', () => {
                        const promptId = button.getAttribute('data-prompt-id');
                        const promptText = document.getElementById(`prompt-text-${promptId}`).innerText;
                        
                        navigator.clipboard.writeText(promptText).then(() => {
                            button.textContent = 'Copied!';
                            setTimeout(() => {
                                button.textContent = 'Copy';
                            }, 2000);
                        }).catch(err => {
                            console.error('Failed to copy text: ', err);
                            const textArea = document.createElement("textarea");
                            textArea.value = promptText;
                            document.body.appendChild(textArea);
                            textArea.focus();
                            textArea.select();
                            try {
                                document.execCommand('copy');
                                button.textContent = 'Copied!';
                                setTimeout(() => { button.textContent = 'Copy'; }, 2000);
                            } catch (err) {
                                console.error('Fallback copy failed: ', err);
                            }
                            document.body.removeChild(textArea);
                        });
                    });
                });
            }

            function renderPersonaChart() {
                const ctx = document.getElementById('personaChart').getContext('2d');
                const chartData = Object.keys(promptData).filter(key => !['advanced-engineering', 'agentic-workflows'].includes(key));
                const personaNames = chartData.map(key => promptData[key].name);
                const useCaseCounts = chartData.map(key => promptData[key].use_cases.length);

                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: personaNames,
                        datasets: [{
                            label: 'Use Cases',
                            data: useCaseCounts,
                            backgroundColor: [
                                'rgba(54, 162, 235, 0.7)',
                                'rgba(75, 192, 192, 0.7)',
                                'rgba(255, 206, 86, 0.7)',
                                'rgba(153, 102, 255, 0.7)',
                                'rgba(255, 159, 64, 0.7)',
                                'rgba(255, 99, 132, 0.7)',
                                'rgba(100, 149, 237, 0.7)',
                                'rgba(46, 204, 113, 0.7)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed !== null) {
                                            label += context.parsed + ' use case(s)';
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }
            
            buildPersonaSections();
            setupNavigation();
            setupAccordions();
            setupCopyButtons();
            renderPersonaChart();
            
            // Set initial active state
            document.querySelector('#main-nav a[data-target="overview"]').classList.add('active');
            document.getElementById('overview').classList.remove('hidden');
        }

        document.addEventListener('DOMContentLoaded', initializeApp);

    </script>
</body>
</html>
