{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "OdysseyAgentInteraction",
  "description": "Defines the request and response schema for the Odyssey Strategic Synthesis Agent.",
  "type": "object",
  "properties": {
    "request": {
      "description": "The input packet required by the Odyssey agent.",
      "type": "object",
      "properties": {
        "proposed_action_summary": {
          "type": "object",
          "properties": {
            "action_name": { "type": "string" },
            "sponsor_business_unit": { "type": "string" },
            "stated_goal": { "type": "string" }
          },
          "required": ["action_name", "sponsor_business_unit", "stated_goal"]
        },
        "component_analyses_packet": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "source": { "type": "string" },
              "recommendation": { "type": "string" },
              "key_rationale": { "type": "array", "items": { "type": "string" } }
            },
            "required": ["source", "recommendation", "key_rationale"]
          }
        },
        "governing_strategic_context": {
          "type": "object",
          "properties": {
            "risk_appetite_statement": { "type": "array", "items": { "type": "string" } },
            "historical_precedents": { "type": "array", "items": { "type": "object" } }
          }
        }
      },
      "required": ["proposed_action_summary", "component_analyses_packet", "governing_strategic_context"]
    },
    "response": {
      "description": "The JSON output (Strategic Risk & Opportunity Brief) generated by the Odyssey agent.",
      "type": "object",
      "properties": {
        "executive_summary": {
          "type": "object",
          "properties": {
            "overall_recommendation": { "type": "string", "enum": ["Proceed", "Proceed with Caution", "Re-evaluate", "Reject"] },
            "narrative_summary": { "type": "string" }
          },
          "required": ["overall_recommendation", "narrative_summary"]
        },
        "synthesis_and_deconfliction": {
          "type": "object",
          "properties": {
            "points_of_consensus": { "type": "array", "items": { "type": "string" } },
            "points_of_contention": { "type": "array", "items": { "type": "string" } }
          },
          "required": ["points_of_consensus", "points_of_contention"]
        },
        "second_order_risk_analysis": {
          "type": "object",
          "properties": {
            "identified_second_order_risks": { "type": "array", "items": { "type": "string" } },
            "identified_blind_spots": { "type": "array", "items": { "type": "string" } }
          },
          "required": ["identified_second_order_risks", "identified_blind_spots"]
        },
        "strategic_alignment_check": {
          "type": "object",
          "properties": {
            "alignment_with_risk_appetite": { "type": "array", "items": { "type": "string" } },
            "historical_consistency_check": { "type": "array", "items": { "type": "string" } }
          },
          "required": ["alignment_with_risk_appetite", "historical_consistency_check"]
        }
      },
      "required": ["executive_summary", "synthesis_and_deconfliction", "second_order_risk_analysis", "strategic_alignment_check"]
    }
  }
}
